@(repository: gitbucket.core.service.RepositoryService.RepositoryInfo,
releases: List[gitbucket.core.model.Release],
releaseAssetsMap: Map[gitbucket.core.model.Release, List[gitbucket.core.model.ReleaseAsset]],
hasWritePermission: Boolean)(implicit context: gitbucket.core.controller.Context)
@import gitbucket.core.view.helpers
@gitbucket.core.html.main("Releases" + s" - ${repository.owner}/${repository.name}", Some(repository)){
@gitbucket.core.html.menu("releases", repository){
<table class="table table-bordered table-releases">
  <thead>
  <tr><th>@releases.length releases</div></th></tr>
  </thead>
  <tbody>
  @releases.map{ release =>
  <tr>
    <td>
      <div class="col-md-1"><a href="@helpers.url(repository)/tree/helpers.encodeRefName(@release.tag)"><i class="octicon octicon-tag"></i>@release.tag</a></div>
      <div class="col-md-11" style="border-left: 1px solid #eee">
        <h3><a href="@helpers.url(repository)/releases/@release.releaseId">@release.name</a></h3>
        <div class="panel panel-default">
          <div class="panel-heading">
            <span class="muted">
                @helpers.avatar(release.author, 20)
                @helpers.user(release.author, styleClass="username strong")
                released this @gitbucket.core.helper.html.datetimeago(release.registeredDate)
              </span>
          </div>
          <div class="panel-body release-note markdown-body">
            @helpers.markdown(
            markdown = release.content getOrElse "No description provided.",
            repository = repository,
            enableWikiLink = false,
            enableRefsLink = true,
            enableLineBreaks = true,
            enableTaskList = true,
            hasWritePermission = hasWritePermission
            )
          </div>
          <h2>Downloads</h2>
          <ul style="list-style: none">
            @releaseAssetsMap(release).map{ asset =>
            <li>
              <i class="octicon octicon-file"></i>
              <a href="@helpers.url(repository)/releases/@release.releaseId/assets/@asset.fileName">@asset.label</a>
              <span class="label label-default">@helpers.readableSize(Some(asset.size))</span>
            </li>
            }
          </ul>
          <ul style="list-style: none;">
            <li><a href="@helpers.url(repository)/archive/@{helpers.encodeRefName(release.tag)}.zip"><i class="octicon octicon-file-zip"></i>ZIP</a></li>
            <li><a href="@helpers.url(repository)/archive/@{helpers.encodeRefName(release.tag)}.tar.gz"><i class="octicon octicon-file-zip"></i>TAR.GZ</a></li>
          </ul>
        </div>
      </div>
      }
    </td>
  </tr>
  }
  </tbody>
</table>
}
