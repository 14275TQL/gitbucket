@(branch: String, commit: util.JGitUtil.CommitInfo, repository: service.RepositoryService.RepositoryInfo, diffs: Seq[util.JGitUtil.DiffInfo])(implicit context: app.Context)
@import context._
@import view.helpers
@import org.eclipse.jgit.diff.DiffEntry.ChangeType
@html.main(commit.shortMessage){
  @html.header("code", repository)
  @navtab(branch, repository, "commits")
  <table class="table table-bordered">
    <tr>
      <th>
        <div class="pull-right align-right">
          <a href="@path/@repository.owner/@repository.name/tree/@commit.id" class="btn btn-small">Browse code</a>
        </div>
        <div class="commit-log">@commit.shortMessage</div>
        @if(commit.description.isDefined){
          <pre class="commit-description">@commit.description.get</pre>
        }
        <div class="small" style="font-weight: normal;"><span class="description">@branch</span></div>
      </th>
    </tr>
    <tr>
      <td>
        <a href="@path/@commit.committer" class="username">@commit.committer</a> <span class="description">@helpers.datetime(commit.time)</span>
        <div class="pull-right monospace small" style="text-align: right;">
          <div>
            @if(commit.parents.size == 0){
              <span class="description">0 parent</span>
            }
            @if(commit.parents.size == 1){
              <span class="description">1 parent</span>
              <a href="@path/@repository.owner/@repository.name/commit/@commit.parents(0)" class="commit-id">@commit.parents(0).substring(0, 7)</a>
            }
            <span class="description">commit</span> @commit.id
          </div>
          @if(commit.parents.size > 1){
            <div>
              <span class="description">@commit.parents.size parents
              @commit.parents.zipWithIndex.map { case (parent, i) =>
                @if(i != 0){ + }
                <a href="@path/@repository.owner/@repository.name/commit/@parent" class="commit-id">@parent.substring(0, 7)</a>
              }
              </span>
            </div>
          }
        </div>
      </td>
    </tr>
  </table>
  @html.diff(diffs, repository, Some(commit.id))
}
