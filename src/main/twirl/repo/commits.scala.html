@(pathList: List[String], branch: String, repository: service.RepositoryService.RepositoryInfo, commits: Seq[Seq[util.JGitUtil.CommitInfo]], page: Int, hasNext: Boolean)(implicit context: app.Context)
@import context._
@import view.helpers
@html.main(repository.owner+"/"+repository.name) {
  @html.header("code", repository)
  @navtab(branch, repository, if(pathList.isEmpty) "commits" else "files")
  <div class="head">
    @if(pathList.isEmpty){
      <a href="@path/@repository.owner/@repository.name/tree/@branch">@repository.name</a> / Commit History
    }
    @if(pathList.nonEmpty){
      <span class="description">History for</span>
      <a href="@path/@repository.owner/@repository.name/tree/@branch">@repository.name</a> /
      @pathList.zipWithIndex.map { case (section, i) =>
        @if(i == pathList.length - 1){
          @section
        } else {
          <a href="@path/@repository.owner/@repository.name/tree/@branch/@pathList.take(i + 1).mkString("/")">@section</a> /
        }
      }
    }
  </div>
      
  @commits.map { date =>
    <table class="table table-bordered">
      <tr>
        <th>@helpers.date(date.head.time)</th>
      </tr>
      @date.map { commit =>
      <tr>
        <td>
          <div class="pull-left">
            <a href="@path/@repository.owner/@repository.name/commit/@commit.id"><strong>@commit.shortMessage</strong></a>
            @if(commit.description.isDefined){
              <a href="javascript:void(0)" onclick="$('#description-@commit.id').toggle();">...</a>
            }
            <br>
            @if(commit.description.isDefined){
              <div class="small" id="description-@commit.id" style="display: none;">
                @helpers.format(commit.description.get)
              </div>
            }
            <div class="small">
              <a href="@path/@commit.committer">@commit.committer</a>
              <span class="description">@helpers.datetime(commit.time)</span>
            </div>
          </div>
          <div class="pull-right align-right">
            <a href="@path/@repository.owner/@repository.name/commit/@commit.id" class="btn btn-small monospace">@commit.id.substring(0, 10)</a><br>
            <a href="@path/@repository.owner/@repository.name/tree/@commit.id" class="small">Browse code</a>
          </div>
        </td>
      </tr>
      }
    </table>
  }
  <div class="btn-group">
    <button class="btn" onclick="location.href='?page=@{page - 1}'"@if(page <= 1){ disabled="true"}>&lt; Newer</button>
    <button class="btn" onclick="location.href='?page=@{page + 1}'"@if(!hasNext){ disabled="true"}>Order &gt;</button>
  </div>   
}