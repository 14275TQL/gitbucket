@(issue: model.Issue,
  comments: List[model.IssueComment],
  issueLabels: List[model.Label],
  collaborators: List[String],
  milestones: List[(model.Milestone, Int, Int)],
  labels: List[model.Label],
  hasWritePermission: Boolean,
  repository: service.RepositoryService.RepositoryInfo)(implicit context: app.Context)
@import context._
@import view.helpers._
@html.main(s"${issue.title} - Issue #${issue.issueId} - ${repository.owner}/${repository.name}", Some(repository)){
  @html.menu("issues", repository){
    <ul class="nav nav-tabs pull-left fill-width">
      <li class="pull-left">
        <h1 id="show-title">@issue.title <span class="muted">#@issue.issueId</span></h1>
        <input type="text" style="width: 635px; display: none" id="edit-title" value="@issue.title"/>
        @if(issue.closed) {
          <span class="label label-important issue-status">Closed</span>
        } else {
          <span class="label label-success issue-status">Open</span>
        }
        <span class="muted">
          @user(issue.openedUserName, styleClass="username strong") opened this issue on @datetime(issue.registeredDate) - @defining(
            comments.filter( _.action.contains("comment") ).size
          ){ count =>
            @count @plural(count, "comment")
          }
        </span>
        <br/><br/>
      </li>
      <li class="pull-right">
        <div>
          @if(hasWritePermission || loginAccount.map(_.userName == issue.openedUserName).getOrElse(false)){
            <a class="btn btn-small" href="#" id="edit">Edit</a>
          }
          <a class="btn btn-small btn-success" href="@url(repository)/issues/new">New issue</a>
        </div>
      </li>
    </ul>
    <div class="row-fluid">
      <div class="span10">
        @commentlist(issue, comments, hasWritePermission, repository)
        @commentform(issue, true, hasWritePermission, repository)
      </div>
      <div class="span2">
        @issueinfo(issue, comments, issueLabels, collaborators, milestones, labels, hasWritePermission, repository)
        <hr/>

      </div>
    </div>
  }
}
<script>
$(function(){
  $('#edit').click(function(){
    $('#edit-title').show();
    $('#show-title').hide();
  });
});
</script>